import { convertAccounts } from '../../../converters'

describe('convertAccount', () => {
  it('converts accounts', () => {
    expect(convertAccounts([
      {
        CurrencyCode: 'RSD',
        AccountType: 'Transakcioni depoziti stranih fizičkih lica',
        IsEbankingAccount: '1',
        LastChangeAmount: 339.95,
        ID: -1,
        CurrencyCodeNumeric: '941',
        LastChangeType: 'D',
        BlockedAmount: null,
        AccountCustomName: null,
        fwStatus: 1,
        LastChangeDate: '2024-01-18T00:00:00',
        IsCASRegistrationForbidden: 0,
        SubsystemProductID: null,
        fwNamespace: 'SagaBG.SeP.RetailOutput',
        ProductOrder: null,
        Alias: null,
        IBANNumber: null,
        AccountID: 12345,
        BansExist: 0,
        Balance: 159725.18,
        AccountNumber: '265021000005486666',
        IsOwner: true,
        Description: null,
        Blocked: 'N',
        FPAccountAllowed: false,
        ProductCodeCore: '66',
        AvailableBalance: 159425.22,
        fwType: 'aoRetailAccountBalancePreview'
      },
      {
        CurrencyCode: 'EUR',
        AccountType: 'Devizni računi stranih fizičkih lica',
        IsEbankingAccount: '1',
        LastChangeAmount: 0.01,
        ID: -1,
        CurrencyCodeNumeric: '978',
        LastChangeType: 'D',
        BlockedAmount: null,
        AccountCustomName: null,
        fwStatus: 1,
        LastChangeDate: '2024-01-06T00:00:00',
        IsCASRegistrationForbidden: 0,
        SubsystemProductID: null,
        fwNamespace: 'SagaBG.SeP.RetailOutput',
        ProductOrder: null,
        Alias: null,
        IBANNumber: 'RS35265057000005597777',
        AccountID: 654321,
        BansExist: 0,
        Balance: 0.0,
        AccountNumber: '265057000005597777',
        IsOwner: true,
        Description: null,
        Blocked: 'N',
        FPAccountAllowed: false,
        ProductCodeCore: '541',
        AvailableBalance: 0.0,
        fwType: 'aoRetailAccountBalancePreview'
      },
      {
        CurrencyCode: 'USD',
        AccountType: 'Devizni računi stranih fizičkih lica',
        IsEbankingAccount: '1',
        LastChangeAmount: 2.53,
        ID: -1,
        CurrencyCodeNumeric: '840',
        LastChangeType: 'D',
        BlockedAmount: null,
        AccountCustomName: null,
        fwStatus: 1,
        LastChangeDate: '2024-01-09T00:00:00',
        IsCASRegistrationForbidden: 0,
        SubsystemProductID: null,
        fwNamespace: 'SagaBG.SeP.RetailOutput',
        ProductOrder: null,
        Alias: null,
        IBANNumber: 'RS35265057000005597777',
        AccountID: 654321,
        BansExist: 0,
        Balance: 9860.91,
        AccountNumber: '265057000005597777',
        IsOwner: true,
        Description: null,
        Blocked: 'N',
        FPAccountAllowed: false,
        ProductCodeCore: '541',
        AvailableBalance: 9860.91,
        fwType: 'aoRetailAccountBalancePreview'
      }
    ])).toEqual([
      {
        ProductCodeCore: '66',
        balance: 159425.22,
        creditLimit: 0,
        id: '265021000005486666RSD',
        instrument: 'RSD',
        syncIds: ['265021000005486666RSD'],
        title: '265021000005486666RSD',
        type: 'ccard'
      },
      {
        ProductCodeCore: '541',
        balance: 0,
        creditLimit: 0,
        id: '265057000005597777EUR',
        instrument: 'EUR',
        syncIds: ['265057000005597777EUR'],
        title: '265057000005597777EUR',
        type: 'ccard'
      },
      {
        ProductCodeCore: '541',
        balance: 9860.91,
        creditLimit: 0,
        id: '265057000005597777USD',
        instrument: 'USD',
        syncIds: ['265057000005597777USD'],
        title: '265057000005597777USD',
        type: 'ccard'
      }])
  })
})
